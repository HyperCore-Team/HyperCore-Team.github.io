<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Embedded Bridge Contract - Network of Momentum Multi-chain Infrastructure</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../../intro/introduction.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../intro/architecture.html"><strong aria-hidden="true">1.1.</strong> Architecture Overview</a></li><li class="chapter-item expanded "><a href="../../../intro/participants.html"><strong aria-hidden="true">1.2.</strong> Participants</a></li><li class="chapter-item expanded "><a href="../../../intro/orbital.html"><strong aria-hidden="true">1.3.</strong> Orbital Program</a></li><li class="chapter-item expanded "><a href="../../../intro/assets.html"><strong aria-hidden="true">1.4.</strong> Assets</a></li></ol></li><li class="chapter-item expanded "><a href="../../../decentralized_bridge/intro.html"><strong aria-hidden="true">2.</strong> Decentralized Bridge</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/core_contracts.html"><strong aria-hidden="true">2.1.</strong> Core Contracts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/smart_contracts/intro.html"><strong aria-hidden="true">2.1.1.</strong> EVM Smart Contracts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/smart_contracts/evm/contract.html"><strong aria-hidden="true">2.1.1.1.</strong> EVM Contract</a></li><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/smart_contracts/evm/tests.html"><strong aria-hidden="true">2.1.1.2.</strong> Unit Tests</a></li></ol></li><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/embedded_bridge/contract.html" class="active"><strong aria-hidden="true">2.1.2.</strong> Embedded Bridge Contract</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/embedded_bridge/constants.html"><strong aria-hidden="true">2.1.2.1.</strong> Constants</a></li><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/embedded_bridge/errors.html"><strong aria-hidden="true">2.1.2.2.</strong> Error states</a></li><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/embedded_bridge/api.html"><strong aria-hidden="true">2.1.2.3.</strong> API</a></li><li class="chapter-item expanded "><a href="../../../decentralized_bridge/core_contracts/embedded_bridge/tests.html"><strong aria-hidden="true">2.1.2.4.</strong> Unit Tests</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../decentralized_bridge/orchestrator_layer/intro.html"><strong aria-hidden="true">2.2.</strong> Orchestrator Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../decentralized_bridge/orchestrator_layer/connectors.html"><strong aria-hidden="true">2.2.1.</strong> Connectors</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../liquidity/intro.html"><strong aria-hidden="true">3.</strong> Protocol Level Liquidity</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../liquidity/embedded_liquidity/contract.html"><strong aria-hidden="true">3.1.</strong> Liquidity Embedded Contract</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../liquidity/embedded_liquidity/api.html"><strong aria-hidden="true">3.1.1.</strong> API</a></li><li class="chapter-item expanded "><a href="../../../liquidity/embedded_liquidity/constants.html"><strong aria-hidden="true">3.1.2.</strong> Constants</a></li><li class="chapter-item expanded "><a href="../../../liquidity/embedded_liquidity/errors.html"><strong aria-hidden="true">3.1.3.</strong> Errors</a></li><li class="chapter-item expanded "><a href="../../../liquidity/embedded_liquidity/tests.html"><strong aria-hidden="true">3.1.4.</strong> Unit Tests</a></li></ol></li></ol></li><li class="chapter-item expanded "><li class="part-title">Resources</li><li class="chapter-item expanded "><a href="../../../license.html"><strong aria-hidden="true">4.</strong> License</a></li><li class="chapter-item expanded "><a href="../../../security.html"><strong aria-hidden="true">5.</strong> Security</a></li><li class="chapter-item expanded "><a href="../../../deployed_contracts.html"><strong aria-hidden="true">6.</strong> Deployed Contracts</a></li><li class="chapter-item expanded "><a href="../../../audits.html"><strong aria-hidden="true">7.</strong> Audits</a></li><li class="chapter-item expanded "><a href="../../../references.html"><strong aria-hidden="true">8.</strong> References</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Network of Momentum Multi-chain Infrastructure</h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="bridge-embedded-contract"><a class="header" href="#bridge-embedded-contract">Bridge Embedded Contract</a></h1>
<p>The <strong>Bridge Embedded Contract</strong> is the embedded contract for the <strong>decentralized bridge</strong> deployed on the Network of Momentum.</p>
<h2 id="helper-methods"><a class="header" href="#helper-methods">Helper methods</a></h2>
<h3 id="checkecdsasignature-method"><a class="header" href="#checkecdsasignature-method"><code>CheckECDSASignature</code> method</a></h3>
<p>Checks if the ECDSA signature is correct or returns <code>error</code> in case it fails.</p>
<h4 id="parameters"><a class="header" href="#parameters">Parameters</a></h4>
<ul>
<li><code>message</code> - the message in <code>[]byte</code> format</li>
<li><code>pubKeyStr</code> - the public key in <code>string</code> format</li>
<li><code>signatureStr</code> - the signature in <code>string</code> format</li>
</ul>
<h4 id="returns"><a class="header" href="#returns">Returns</a></h4>
<ul>
<li><code>bool</code> - <code>true</code> if the signature passes, <code>false</code> otherwise</li>
</ul>
<h3 id="canperformaction-method"><a class="header" href="#canperformaction-method"><code>CanPerformAction</code> method</a></h3>
<p>Checks if the parameters of the bridge are correct or returns <code>error</code> in case it fails.</p>
<h4 id="parameters-1"><a class="header" href="#parameters-1">Parameters</a></h4>
<ul>
<li><code>AccountVmContext</code> - current context of the VM</li>
</ul>
<h4 id="returns-1"><a class="header" href="#returns-1">Returns</a></h4>
<ul>
<li><code>BridgeInfoVariable</code> - information regarding the bridge</li>
<li><code>OrchestratorInfo</code> - information regarding the orchestrator</li>
</ul>
<h3 id="checkbridgeinitialized-method"><a class="header" href="#checkbridgeinitialized-method"><code>CheckBridgeInitialized</code> method</a></h3>
<p>Checks if the bridge is properly initialized or returns <code>error</code> in case it fails.</p>
<h4 id="parameters-2"><a class="header" href="#parameters-2">Parameters</a></h4>
<ul>
<li><code>AccountVmContext</code> - current context of the VM</li>
</ul>
<h4 id="returns-2"><a class="header" href="#returns-2">Returns</a></h4>
<ul>
<li><code>BridgeInfoVariable</code> - information regarding the bridge</li>
</ul>
<h3 id="checkorchestratorinfoinitialized-method"><a class="header" href="#checkorchestratorinfoinitialized-method"><code>CheckOrchestratorInfoInitialized</code> method</a></h3>
<p>Checks if the orchestrator is properly initialized or returns <code>error</code> in case it fails.</p>
<h4 id="parameters-3"><a class="header" href="#parameters-3">Parameters</a></h4>
<ul>
<li><code>AccountVmContext</code> - current context of the VM</li>
</ul>
<h4 id="returns-3"><a class="header" href="#returns-3">Returns</a></h4>
<ul>
<li><code>OrchestratorInfo</code> - information regarding the orchestrator</li>
</ul>
<h3 id="checkbridgehalted-method"><a class="header" href="#checkbridgehalted-method"><code>CheckBridgeHalted</code> method</a></h3>
<p>Checks if the bridge is halted or returns <code>error</code> in case it fails.</p>
<h4 id="parameters-4"><a class="header" href="#parameters-4">Parameters</a></h4>
<ul>
<li><code>BridgeInfoVariable</code> - information regarding the bridge</li>
<li><code>AccountVmContext</code> - current context of the VM</li>
</ul>
<h4 id="returns-4"><a class="header" href="#returns-4">Returns</a></h4>
<ul>
<li><code>nil</code> - the bridge is not halted</li>
</ul>
<h2 id="contract-implementation"><a class="header" href="#contract-implementation">Contract implementation</a></h2>
<p>The implementation of the <strong>Bridge Embedded Contract</strong> has a total of 20 methods that can be called by sending a specifically crafted account block:</p>
<h3 id="wraptokenmethod-method"><a class="header" href="#wraptokenmethod-method"><code>WrapTokenMethod</code> method</a></h3>
<p>Method for wrapping assets. If the bridge is initialized, not halted, the destination network and the token pair exists, than a wrap token request is created.</p>
<h4 id="parameters-5"><a class="header" href="#parameters-5">Parameters</a></h4>
<ul>
<li><code>NetworkClass</code> - the class of the destination network</li>
<li><code>ChainId</code> - the chain identifier of the destination network</li>
<li><code>ToAddress</code> - the address that can redeem the funds on the destination network</li>
<li><code>TokenStandard</code> - the <code>ZTS</code> used in the <code>send</code> block</li>
<li><code>Amount</code> - the amount used in the <code>send</code> block</li>
</ul>
<h4 id="returns-5"><a class="header" href="#returns-5">Returns</a></h4>
<ul>
<li><code>AccountBlock</code> - only if the token is owned, a burn call to the token contract is performed that burns the received tokens</li>
</ul>
<h3 id="updatewraprequestmethod-method"><a class="header" href="#updatewraprequestmethod-method"><code>UpdateWrapRequestMethod</code> method</a></h3>
<p>Method for updating the wrap request. If the <code>signature</code> is valid and is generated by the TSS public key, it is saved in the wrap request signature field and can be used to redeem the funds.</p>
<h4 id="parameters-6"><a class="header" href="#parameters-6">Parameters</a></h4>
<ul>
<li><code>Id</code> - represents the id of a wrap requests</li>
<li><code>Signature</code> - a base64 encoded ECDSA signature used to redeem funds on the destination network</li>
</ul>
<h4 id="returns-6"><a class="header" href="#returns-6">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="unwraptokenmethod-method"><a class="header" href="#unwraptokenmethod-method"><code>UnwrapTokenMethod</code> method</a></h3>
<p>Method for unwrapping assets. It is the first step in redeeming funds on NoM. Normally this method would be called by an <code>orchestrator</code> node after a signing ceremony to register an unwrap request.</p>
<h4 id="parameters-7"><a class="header" href="#parameters-7">Parameters</a></h4>
<ul>
<li><code>NetworkClass</code> - the class of the source network</li>
<li><code>ChainId</code> - the chain identifier of the source network</li>
<li><code>TransactionHash</code> - hash of the transaction on the source network</li>
<li><code>LogIndex</code> - log index in the block of the transaction that locked/burned the funds on the source network; together with <code>txHash</code> it creates a unique identifier for a transaction</li>
<li><code>ToAddress</code> - destination NoM address</li>
<li><code>TokenAddress</code> - address of the locked/burned token on the source network</li>
<li><code>Amount</code> - amount of token that was locked/burned</li>
<li><code>Signature</code> - the signature as <code>base64</code> encoded string of the unwrap request</li>
</ul>
<h4 id="returns-7"><a class="header" href="#returns-7">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="setnetworkmethod-method"><a class="header" href="#setnetworkmethod-method"><code>SetNetworkMethod</code> method</a></h3>
<p>Method for setting a network. Used to add or edit an already existing bridged network.</p>
<h4 id="parameters-8"><a class="header" href="#parameters-8">Parameters</a></h4>
<ul>
<li><code>NetworkClass</code> - class of the network</li>
<li><code>ChainId</code>- chain identifier of the network</li>
<li><code>Name</code>- <code>new</code> name of the network</li>
<li><code>ContractAddress</code> - <code>new</code> address the bridge contract was deployed to</li>
<li><code>Metadata</code> - <code>JSON</code> encoded string used in case the <code>orchestrator</code> needs additional data for the network</li>
</ul>
<h4 id="returns-8"><a class="header" href="#returns-8">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="removenetworkmethod-method"><a class="header" href="#removenetworkmethod-method"><code>RemoveNetworkMethod</code> method</a></h3>
<p>Method for removing a network uniquely identified by its class and chain identifier.</p>
<h4 id="parameters-9"><a class="header" href="#parameters-9">Parameters</a></h4>
<ul>
<li><code>NetworkClass</code> - class of the network</li>
<li><code>ChainId</code>- chain identifier of the network</li>
</ul>
<h4 id="returns-9"><a class="header" href="#returns-9">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="setnetworkmetadatamethod-method"><a class="header" href="#setnetworkmetadatamethod-method"><code>SetNetworkMetadataMethod</code> method</a></h3>
<p>Method for setting metadata for a network.</p>
<h4 id="parameters-10"><a class="header" href="#parameters-10">Parameters</a></h4>
<ul>
<li><code>NetworkClass</code> - class of the network</li>
<li><code>ChainId</code>- chain identifier of the network</li>
<li><code>Metadata</code> - <code>JSON</code> encoded string containing the <code>new</code> metadata</li>
</ul>
<h4 id="returns-10"><a class="header" href="#returns-10">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="settokenpairmethod-method"><a class="header" href="#settokenpairmethod-method"><code>SetTokenPairMethod</code> method</a></h3>
<p>Method for setting a token pair for a network. It will add a new pair or edit an existing one; guarded by the time challenge primitive.</p>
<h4 id="parameters-11"><a class="header" href="#parameters-11">Parameters</a></h4>
<ul>
<li>NetworkClass - network class of the network to add this pair to</li>
<li>ChainId - chain identifier of the network to add this pair to</li>
<li>TokenStandard - first component of the pair i.e. <code>ZTS</code></li>
<li>TokenAddress - second component of the pair i.e. <code>EVM-20</code></li>
<li><code>Bridgeable</code> - boolean variable that specifies if the <code>ZTS</code> can be wrapped on NoM</li>
<li><code>Redeemable</code> - boolean variable that specifies if the <code>EVM-20</code> can be redeemed on NoM</li>
<li><code>Owned</code> - boolean variable that specifies if the embedded bridge contract is the owner of the <code>ZTS</code> from the pair; if true, when wrapping the ZTS, the token will be burned, otherwise it will be locked</li>
<li><code>MinAmount</code> - minimum amount for wrapping the <code>ZTS</code></li>
<li><code>FeePercentage</code> - fee deducted from the amount when wrapping</li>
<li><code>RedeemDelay</code> - delay in momentums until redeeming is possible on NoM</li>
<li><code>Metadata</code> - <code>JSON</code> encoded string containing metadata about the pair; used by the <code>orchestrator</code></li>
</ul>
<h4 id="returns-11"><a class="header" href="#returns-11">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="removetokenpairmethod-method"><a class="header" href="#removetokenpairmethod-method"><code>RemoveTokenPairMethod</code> method</a></h3>
<p>Method for removing a token pair for a network.</p>
<h4 id="parameters-12"><a class="header" href="#parameters-12">Parameters</a></h4>
<ul>
<li><code>NetworkClass</code> - class of the network that contains the pair</li>
<li><code>ChainId</code> - chain identifier of the network that contains the pair</li>
<li><code>TokenStandard</code> - <code>ZTS</code> of the pair</li></li>
<li><code>TokenAddress</code> - <code>EVM-20</code> address of the pair</li>
</ul>
<h4 id="returns-12"><a class="header" href="#returns-12">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="haltmethod-method"><a class="header" href="#haltmethod-method"><code>HaltMethod</code> method</a></h3>
<p>Method for halting the bridge. If called by the <code>administrator</code> it doesn't need a <code>signature</code>, otherwise it needs a TSS signature with the current <code>tssNonce</code>.</p>
<h4 id="parameters-13"><a class="header" href="#parameters-13">Parameters</a></h4>
<ul>
<li><code>Signature</code> - <code>base64</code> encoded string containing the TSS signature</li>
</ul>
<h4 id="returns-13"><a class="header" href="#returns-13">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="unhaltmethod-method"><a class="header" href="#unhaltmethod-method"><code>UnhaltMethod</code> method</a></h3>
<p>Method for unhalting the bridge. Can be called only by the <code>administrator</code>.</p>
<h4 id="parameters-14"><a class="header" href="#parameters-14">Parameters</a></h4>
<ul>
<li>None</li>
</ul>
<h4 id="returns-14"><a class="header" href="#returns-14">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="emergencymethod-method"><a class="header" href="#emergencymethod-method"><code>EmergencyMethod</code> method</a></h3>
<p>Method for putting the bridge embedded contract into emergency mode. This method nullifies the <code>administrator</code> address, tss public key and halts the bridge. It can be called in the extreme case when the <code>administrator</code> private key has been compromised.</p>
<h4 id="parameters-15"><a class="header" href="#parameters-15">Parameters</a></h4>
<ul>
<li>None</li>
</ul>
<h4 id="returns-15"><a class="header" href="#returns-15">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="changetssecdsapubkeymethod-method"><a class="header" href="#changetssecdsapubkeymethod-method"><code>ChangeTssECDSAPubKeyMethod</code> method</a></h3>
<p>Method for changing the TSS public key. Guarded by time challenge when called by the <code>administrator</code>. Otherwise it can be changed by the TSS using a signature from the current tss, one from the new tss and the new tss public key.</p>
<h4 id="parameters-16"><a class="header" href="#parameters-16">Parameters</a></h4>
<ul>
<li><code>PubKey</code> - <code>base64</code> encoded string representing the new TSS public key</li>
<li><code>OldPubKeySignature</code> - <code>base64</code> encoded string representing the <code>changeTss</code> message signed by the current TSS</li>
<li><code>NewPubKeySignature</code> - <code>base64</code> encoded string representing the <code>changeTss</code> message signed by corresponding private key</li>
</ul>
<h4 id="returns-16"><a class="header" href="#returns-16">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="changeadministratormethod-method"><a class="header" href="#changeadministratormethod-method"><code>ChangeAdministratorMethod</code> method</a></h3>
<p>Method for changing the admin. Can be called only by the <code>administrator</code>. Guarded by a time challenge with <code>administratorDelay</code>.</p>
<h4 id="parameters-17"><a class="header" href="#parameters-17">Parameters</a></h4>
<ul>
<li><code>Address</code> - address of the new <code>administrator</code></li>
</ul>
<h4 id="returns-17"><a class="header" href="#returns-17">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="setallowkeygenmethod-method"><a class="header" href="#setallowkeygenmethod-method"><code>SetAllowKeygenMethod</code> method</a></h3>
<p>Method that enables or disables the TSS key generation.</p>
<h4 id="parameters-18"><a class="header" href="#parameters-18">Parameters</a></h4>
<ul>
<li><code>Bool</code> - <code>true</code> or <code>false</code> value that indicates whether the <code>orchestrator</code> nodes should start a key generation ceremony or not</li>
</ul>
<h4 id="returns-18"><a class="header" href="#returns-18">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="setorchestratorinfomethod-method"><a class="header" href="#setorchestratorinfomethod-method"><code>SetOrchestratorInfoMethod</code> method</a></h3>
<p>Method for setting the information regarding the orchestrator layer.</p>
<h4 id="parameters-19"><a class="header" href="#parameters-19">Parameters</a></h4>
<ul>
<li><code>WindowSize</code> - size in momentums of a window used in the <code>orchestrator</code> to determine which signing ceremony should occur, wrap or unwrap request and to determine the key sign ceremony timeout</li>
<li><code>KeyGenThreshold</code> - minimum number of participants of a key generation ceremony</li>
<li><code>ConfirmationsToFinality</code> - minimum number of momentums to consider a wrap request confirmed</li>
<li><code>EstimatedMomentumTime</code> - time in seconds between momentums</li>
</ul>
<h4 id="returns-19"><a class="header" href="#returns-19">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="setbridgemetadatamethod-method"><a class="header" href="#setbridgemetadatamethod-method"><code>SetBridgeMetadataMethod</code> method</a></h3>
<p>Method for setting the metadata for the bridge.</p>
<h4 id="parameters-20"><a class="header" href="#parameters-20">Parameters</a></h4>
<ul>
<li><code>String</code> - <code>JSON</code> encoded string containing additional information needed for the <code>orchestrator</code> layer</li>
</ul>
<h4 id="returns-20"><a class="header" href="#returns-20">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="revokeunwraprequestmethod-method"><a class="header" href="#revokeunwraprequestmethod-method"><code>RevokeUnwrapRequestMethod</code> method</a></h3>
<p>Method for revoking an unwrap request. This should be called if an unwrap request does not a have corresponding transaction on the source network that locks/burns the tokens.</p>
<h4 id="parameters-21"><a class="header" href="#parameters-21">Parameters</a></h4>
<ul>
<li><code>TransactionHash</code> - first component to uniquely identify an unwrap request</li>
<li><code>LogIndex</code> - second component to uniquely identify an unwrap request</li>
</ul>
<h4 id="returns-21"><a class="header" href="#returns-21">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="redeemmethod-method"><a class="header" href="#redeemmethod-method"><code>RedeemMethod</code> method</a></h3>
<p>Method for redeeming assets. It is the second step in order to redeem funds after an unwrap request is created. In order to redeem the unwrap request the following conditions must be present: the bridge must not be halted, the network and token pair must exist and the request have not been redeemed or revoked before.</p>
<h4 id="parameters-22"><a class="header" href="#parameters-22">Parameters</a></h4>
<ul>
<li><code>TransactionHash</code> - first component to uniquely identify an unwrap request</li>
<li><code>LogIndex</code> - second component to uniquely identify an unwrap request</li>
</ul>
<h4 id="returns-22"><a class="header" href="#returns-22">Returns</a></h4>
<ul>
<li><code>AccountBlock</code> - if the <code>ZTS</code> to be redeemed is owned, an account block to mint the amount will be sent to the token contract, otherwise a block sending the tokens will be sent to the user</li>
</ul>
<h3 id="nominateguardiansmethod-method"><a class="header" href="#nominateguardiansmethod-method"><code>NominateGuardiansMethod</code> method</a></h3>
<p>Method for nominating guardians. Can only be called by the <code>administrator</code> in order to propose new <code>guardians</code>. Guarded by a time challenge. The number of guardian addresses must be higher than <code>minGuardians</code> and each address in the array must be unique. <code>ZeroAddress</code> is not accepted.</p>
<h4 id="parameters-23"><a class="header" href="#parameters-23">Parameters</a></h4>
<ul>
<li><code>[]Address</code> - contains the new guardian addresses</li>
</ul>
<h4 id="returns-23"><a class="header" href="#returns-23">Returns</a></h4>
<ul>
<li>None</li>
</ul>
<h3 id="proposeadministratormethod-method"><a class="header" href="#proposeadministratormethod-method"><code>ProposeAdministratorMethod</code> method</a></h3>
<p>Method for proposing an admin. This method can only be called by a <code>guardian</code> if the bridge is in emergency mode i.e. the administrator address is set to <code>ZeroAddress</code>. After each <code>guardian</code> votes for an address, the votes are counted and if there is a majority (<code>50% + 1</code>), the <code>administrator</code> will be set with that address.</p>
<h4 id="parameters-24"><a class="header" href="#parameters-24">Parameters</a></h4>
<ul>
<li><code>Address</code> - voted address</li>
</ul>
<h4 id="returns-24"><a class="header" href="#returns-24">Returns</a></h4>
<ul>
<li>None</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../decentralized_bridge/core_contracts/smart_contracts/evm/tests.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../../decentralized_bridge/core_contracts/embedded_bridge/constants.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../decentralized_bridge/core_contracts/smart_contracts/evm/tests.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../decentralized_bridge/core_contracts/embedded_bridge/constants.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
